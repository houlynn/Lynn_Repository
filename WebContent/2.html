<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <title>Hello, World</title>
 <style type="text/css">
     html{height:100%}
     body{height:100%;margin:0px;padding:0px}
     #container{height:100%}
 </style>
 <script type="text/javascript" src="http://api.map.baidu.com/api?v=1.3"></script>
 </head> 
 <body>
 <div id="container"></div>
    <script type="text/javascript">    
       var map = new BMap.Map("container"); // 创建地图实例
      
       var point2 = new BMap.Point(119.164198, 36.704957); // 创建点坐标
       map.centerAndZoom(point2, 15);  // 初始化地图，设置中心点坐标和地图级别
       map.addControl(new BMap.NavigationControl());

       var opts = { width: 250, height: 100, title: "潍坊地图" }; //信息窗口
       var infoWindow = new BMap.InfoWindow("<div style='color:red;'>大家好</div>", opts);
       var marker = new BMap.Marker(point2); // 创建标注 
       map.addOverlay(marker);
       marker.enableDragging();
       //标注拖拽后的位置
/*        marker.addEventListener("dragend", function (e) {
           alert("当前位置：" + e.point.lng + ", " + e.point.lat);
       }); */
       
       //标注拖拽后的位置
       marker.addEventListener("dragend", function (e) {
           alert("当前位置：" + e.point.lng + ", " + e.point.lat);
       });
       
       
       //点击的位置
       map.addEventListener("click", function (e) {
           //alert("当前位置：" + e.point.lng + ", " + e.point.lat);
           var pointClick=  new BMap.Point(e.point.lng , e.point.lat);
           map.openInfoWindow(infoWindow, pointClick);
       });
    
     
       
     </script>
    </body>
    </html>